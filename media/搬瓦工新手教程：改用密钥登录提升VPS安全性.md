# 搬瓦工新手教程：改用密钥登录提升VPS安全性

## 为什么需要改用密钥登录？

许多用户在购买VPS并搭建节点后，往往忽略了服务器安全设置。搬瓦工默认使用SSH端口22和密码登录方式，这给不法分子提供了可乘之机。他们可能通过暴力破解获取服务器控制权，进行挖矿等违法操作。因此，改用密钥登录是保障VPS安全的首要步骤。

👉 [【点击查看】2025年最新 BandwagonHost 搬瓦工优惠码及特价云服务器方案汇总](https://bit.ly/banwagon)

## 详细操作指南

### 一、本地生成SSH密钥对

#### Windows用户操作步骤

1. **下载密钥生成工具**  
   推荐使用PuTTYgen，选择RSA类型密钥，密钥长度设为4096位

2. **生成密钥对**  
   - 打开PuTTYgen点击Generate创建密钥
   - 生成过程中需在软件空白处移动鼠标以增加随机性

3. **保存密钥文件**  
   - 通过Conversions→Export OpenSSH key导出密钥
   - 确保文件后缀为.pem

4. **复制公钥文本**  
   保存软件界面中显示的公钥内容，用于后续服务器配置

### 二、搬瓦工后台配置公钥

1. **登录KiwiVM管理面板**  
   进入搬瓦工服务器管理后台

2. **上传公钥**  
   - 导航至SSH Keys选项
   - 粘贴之前生成的公钥文本
   - 点击"Save SSH Keys"保存

3. **重装系统使配置生效**  
   在Install new OS时，系统会提示SSH公钥将被自动添加

### 三、禁用密码登录（关键安全步骤）

1. **编辑SSH配置文件**  
   执行命令：`nano /etc/ssh/sshd_config`

2. **修改配置参数**  
   添加或修改以下内容：  
   `PasswordAuthentication no`

3. **保存并重启服务**  
   - 按Ctrl+X退出，Y确认保存
   - 执行：`service sshd restart` 使配置生效

## 安全建议

完成上述设置后，您的搬瓦工VPS将仅允许密钥登录，大幅提升安全性。建议：

- 妥善保管私钥文件
- 定期检查服务器登录日志
- 考虑修改默认SSH端口

通过这三个简单步骤，您就能有效防止暴力破解，确保服务器安全稳定运行。